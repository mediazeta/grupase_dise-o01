window.PWH_DCFH=window.PWH_DCFH||{},!function($){"use strict";const i10n=pwh_dcfh_params.i10n,formContainerClass=".et_pb_contact_form_container",contactFormClass=".et_pb_contact_form",submitBTNClass=".et_pb_contact_submit",messageClass=".et-pb-contact-message",datetimePickerEle=$("."+pwh_dcfh_params.datepickerClass),select2Obj=$(".et_pb_contact_select2"),uploadFileSelector="."+pwh_dcfh_params.uploadFileClass,todayDate=new Date;PWH_DCFH.init=function(){0<$(contactFormClass).length&&(pwh_dcfh_params.isSuperAdmin&&0<$(".et_pb_contact_form_container").length&&PWH_DCFH.handleFormDuplicateWarning(),0<$(".et_pb_textarea_validation").length&&(PWH_DCFH.formSubmitCounter=0,PWH_DCFH.handleTextareaValidation()),0<$(uploadFileSelector).length&&(PWH_DCFH.handleUploadFiles(),PWH_DCFH.handleRemoveFile()),0<datetimePickerEle.length&&PWH_DCFH.handleDateTimePicker(),0<select2Obj.length&&PWH_DCFH.handleSelect2(),0<$(".et_pb_signature_pad_container").length&&PWH_DCFH.handleSignaturePad(),PWH_DCFH.handleUniqueViewCookie(),PWH_DCFH.handleLoadingIcon(),PWH_DCFH.handleRedirectForm(),PWH_DCFH.handleContactMessageClass(),PWH_DCFH.handleETCustom(),"undefined"!=typeof dynamicCustomJSCode)&&PWH_DCFH.handleScriptsAfterFormSubmit()},PWH_DCFH.handleFormDuplicateWarning=()=>{let i=[];if(1<$(formContainerClass).length)for(var e in $(formContainerClass).each(function(e,t){var a=$(this).attr("id"),n=$(this).data("form_unique_id");i[n]?i[n].push(a):i[n]=[a]}),i){e=i[e];1<e.length&&$(e).each(function(e,t){$("#"+t).prepend("<div class='et_pb_duplicate_form_id_warning'>"+i10n.duplicate_form_id_text+"</div>")})}},PWH_DCFH.handleUniqueViewCookie=()=>{$(formContainerClass).each(function(e,t){var a=$(this).data("form_unique_id"),n=$(this).find("form").attr("data-unique-views-cookies");void 0!==a&&void 0!==n&&"on"===n&&(n="pwh_dcfh_uniqueviews_"+pwh_dcfh_params.userIPAddress+"_"+a,PWH_DCFH.setCookie(n,"pwh_dcfh_unique_views",364))})},PWH_DCFH.handleLoadingIcon=()=>{$.fn.fadeToOrig=$.fn.fadeTo,$.fn.fadeTo=function(){var e=$(this),t=".et_pb_contact_form_overlay";return e.find(t).length&&arguments[1]<1&&e.find(t).show(),$.fn.fadeToOrig.apply(this,arguments)}},PWH_DCFH.handleDateTimePicker=()=>{datetimePickerEle.each(function(){let e=$(this).parents('div[class*="et_pb_contact_form_container"]').attr("class"),a=(e=void 0!==e?e.replace("et_pb_module","").replace("et_pb_contact_form_container","").replace("clearfix","").trim():"",`input[name="${$(this).attr("name")}"]`),n=$(a).data("config"),i=n.type;var t=n.show_inline,s=n.setcurrent_datetime,l=n.rtl,r=n.disabled_weeks;let o=n.disabled_week_days;var d=n.date_format,_=n.time_format;let c=n.min_date_type,p=n.min_date;var f=n.max_date_type,m=n.max_date;let u=n.available_dates;var h=n.unavailable_dates,v=n.min_time,b=n.max_time;let g=n.available_times,C=n.unavailable_times,x=n.available_day_times,D=n.unavailable_day_times,H=n.disabled_past_times;var w={yearStart:1900,inline:!1,step:n.time_steps,closeOnDateSelect:!1,dayOfWeekStart:n.week_start,className:e,todayButton:!1,validateOnBlur:!1,formatDate:"Y-m-d",scrollMonth:!1,scrollTime:!1,scrollInput:!1};"date"===i?w.format=d:"time"===i?w.format=_:w.format=d+" "+_,w.datepicker=""!==d,""!==_?(w.timepicker=!0,w.formatTime=_):w.timepicker=!1,void 0!==t&&"on"===t&&(w.inline=!0,w.lazyInit=!0,w.allowBlank=!0),void 0!==s&&"on"===s&&(w.value=new Date),void 0!==l&&"on"===l&&(w.rtl=!0),"off"===r&&(w.weeks=!0),""!==o&&("string"===jQuery.type(o)?(o=o.split(",").map(function(e){return parseInt(e)}),w.disabledWeekDays=o):w.disabledWeekDays=[o]),void 0!==n.disabled_past_days&&"on"===n.disabled_past_days&&(w.minDate=0),void 0!==c&&("fixed"===c&&(_=new Date(p),w.minDate=p,w.defaultDate=_,w.startDate=_),"relative"===c)&&(w.minDate=p),void 0!==f&&("fixed"===f&&(w.maxDate=m),"relative"===f)&&(w.maxDate=m),void 0!==u&&(w.allowDates=u,w.formatDate=d),void 0!==h&&(w.disabledDates=h),void 0!==v&&(w.minTime=v),void 0!==b&&(w.maxTime=b),void 0!==g&&(w.allowTimes=g.split(","));let y=!(w.onSelectDate=function(e,t){var a,e=new Date(e).toLocaleDateString("en",{weekday:"long"}).toLowerCase();if(void 0!==x&&(void 0!==x["available_times_"+e]&&0<x["available_times_"+e].length?(e=x["available_times_"+e].split(","),this.setOptions({allowTimes:e})):this.setOptions({allowTimes:""})),"both"===i&&void 0!==g&&0<(e=this.find(".xdsoft_time").first().text()).length&&((a=t.val().split(" ")).pop(),a.push(e),t.val(a.join(" "))),("both"===i&&void 0!==C||void 0!==H)&&0<(e=this.find(".xdsoft_time:not(.xdsoft_disabled)").first().text()).length&&((a=t.val().split(" ")).pop(),a.push(e),t.val(a.join(" "))),"both"===i&&(void 0!==x||void 0!==D)){let e=t.val().split(" ");e.pop(),e=e.join(" "),t.val(e)}});w.onSelectTime=function(e,t){var a;!y&&"relative"===c&&p.startsWith("+")&&(e=new Date(e),a=p.split("-"),e.setDate(e.getDate()+parseInt(a[2])),(a=$(this.find("td:not(.xdsoft_disabled)").first()))&&(a=new Date(a.data("year"),a.data("month"),a.data("date")),e.getDate()!==a.getDate())&&e.setDate(e.getDate()-1),this.setOptions({value:e}),y=!0)},w.onGenerate=function(e,t){let s=new Date(e);e=s.toLocaleDateString("en",{weekday:"long"}).toLowerCase();if($(this).css("left",$(a).offset().left),$(this).css("width","auto"),void 0!==n.disabled_current_date&&"on"===n.disabled_current_date&&$(this).find(".xdsoft_today").removeClass("xdsoft_current").removeClass("xdsoft_today").addClass("xdsoft_disabled"),void 0!==u&&setTimeout(function(){$.each(u.split(","),function(e,t){var t=new Date(t);void 0!==t&&(t=$(`td[data-date="${t.getDate()}"][data-month="${t.getMonth()}"]`)).hasClass("xdsoft_disabled")&&t.removeClass("xdsoft_disabled")})},100),void 0!==C){let n=C.split(",");$(this).find(".xdsoft_time").each(function(e,t){var a=$(this);-1!==$.inArray(a.text(),n)&&a.toggleClass("xdsoft_disabled")})}if(void 0!==D&&void 0!==D["unavailable_times_"+e]&&0<D["unavailable_times_"+e].length){let n=D["unavailable_times_"+e].split(",");$(this).find(".xdsoft_time").each(function(e,t){var a=$(this);-1!==$.inArray(a.text(),n)&&a.toggleClass("xdsoft_disabled")})}void 0!==H&&$(this).find(".xdsoft_time").each(function(e,t){var a=$(this);if(""!==a.text()){var n=a.text().match(/(\d+):(\d+)([ap]m)?/i);if(n){let e=parseInt(n[1],10);var i=parseInt(n[2],10),n=n[3]?n[3].toLowerCase():null,n=("pm"===n&&12!==e?e+=12:"am"===n&&12===e&&(e=0),new Date),i=(n.setHours(e,i,0,0),new Date);n<i&&i.getDate()===s.getDate()&&a.toggleClass("xdsoft_disabled")}}})},$.datetimepicker.setLocale(n.locale),$(a).datetimepicker(w)})},PWH_DCFH.handleSelect2=()=>{select2Obj.select2(),$(document).on("select2:open",e=>{e=e.target.id;$(".select2-search__field[aria-controls='select2-"+e+"-results']").each(function(e,t){t.focus()})})},PWH_DCFH.handleSignaturePad=()=>{$(document).on("submit","form.et_pb_contact_form",function(e){e.preventDefault(),$.each($(this).find(".et_pb_signature_pad_container"),function(e,t){var a=$(this),n=a.find("canvas");a.find("input[type='text']").hasClass("et_contact_error")?n.addClass("et_pb_required_border"):n.removeClass("et_pb_required_border")})}),$(".et_pb_signature_pad_container").each(function(e,t){let a=$(this),i=a.parents('div[class*="et_pb_contact_form_container"]'),s=i.find(messageClass+".et_pb_contact_message_top"),l=("none"===s.css("display")&&(s=i.find(messageClass+".et_pb_contact_message_bottom")),a.find("canvas"));if(0<l.length){var r=a.data("config");if(void 0!==r){var o=""===r.width?.97*$(l).parents('p[class*="et_pb_contact_field"]').outerWidth():r.width,d=r.height;l.attr("width",o),l.attr("height",d);let n=new SignaturePad(l[0],{backgroundColor:r.background,penColor:r.color,maxWidth:r.pen_thickness});var _=!1;a.find(".save").click(function(){var e;a.find(".et_pb_signature_pad_message").text(""),n.isEmpty()?_||(0<s.children().length?s.find("ul").first().append(`<li>${i10n.siganture_empty_text}</li>`):s.append(`<ul><li>${i10n.siganture_empty_text}</li></ul>`),_=!0):(_=!1,window.confirm(i10n.siganture_before_save_text)&&""!==(e=n.toDataURL())&&$.ajax({type:"post",dataType:"json",url:pwh_dcfh_params.ajaxURL,data:{action:"save_digital_signature",_wpnonce:pwh_dcfh_params.ajaxNonce,data_url:e},beforeSend:function(){i.find(".et_pb_contact_spinner").addClass("is-active"),a.find("input[type='text']").val(""),n.off()},success:function(e){e.success&&(a.find(".save").addClass("et_pb_d_none"),l.hasClass("et_pb_required_border")&&l.removeClass("et_pb_required_border"),a.find("input[type='text']").val(e.data.filename),a.find(".et_pb_signature_pad_message").text(e.data.message))},complete:function(){i.find(".et_pb_contact_spinner").removeClass("is-active"),s.find("ul li").filter(function(){return $(this).text()===i10n.siganture_empty_text}).remove()},error:function(e,t,a){n.on()}}))}),a.find(".clear").click(function(){var e;n.isEmpty()||(a.find(".et_pb_signature_pad_message").text(""),n.clear(),""!==(e=a.find("input[type='text']").val())&&$.ajax({type:"post",dataType:"json",url:pwh_dcfh_params.ajaxURL,data:{action:"delete_digital_signature",_wpnonce:pwh_dcfh_params.ajaxNonce,filename:e},beforeSend:function(){i.find(".et_pb_contact_spinner").addClass("is-active"),a.find("input[type='text']").val("")},success:function(e){e.success&&(a.find(".save").removeClass("et_pb_d_none"),a.find(".et_pb_signature_pad_message").text(e.data),n.on())},complete:function(){a.find("input[type='text']").val(""),i.find(".et_pb_contact_spinner").removeClass("is-active")},error:function(e,t,a){}}))})}}})};var filesErrorsArr=null,filesUploadArr={},filesAttachedArr=[];PWH_DCFH.handleUploadFiles=()=>{$(document).on("submit","form.et_pb_contact_form",function(t){if(t.preventDefault(),null!==filesErrorsArr){t=$(this).parents('div[class*="et_pb_contact_form_container"]');let e=t.find(messageClass+".et_pb_contact_message_top");0<(e="none"===e.css("display")?t.find(messageClass+".et_pb_contact_message_bottom"):e).children().length?e.find("ul").first().append(filesErrorsArr):e.append(`<ul>${filesErrorsArr}</ul>`)}$.each($(this).find(".et_pb_contact_hidden_files"),function(e,t){var a=$(this),n=a.data("field-id");a.hasClass("et_contact_error")?void 0!==a.data("required_mark")&&"required"===a.data("required_mark")&&$("p.et_pb_contact_field.et_pb_contact_field_"+n).addClass("et_pb_required_border"):a.attr("novalidate")||""!==a.val()||"undefined"===a.data("required_mark")||"required"!==a.data("required_mark")?$("p.et_pb_contact_field.et_pb_contact_field_"+n).removeClass("et_pb_required_border"):$("p.et_pb_contact_field.et_pb_contact_field_"+n).addClass("et_pb_required_border")})}),$("body").on("click",".et_pb_file_upload_button",function(e){e.preventDefault(),$(this).parent().find(uploadFileSelector).trigger("click")}),$("body").on("change",uploadFileSelector,function(){var t=new FormData;let n=!1,a="";var e=$(this);let i=e.parents('div[class*="et_pb_contact_form_container"]'),s=e.parent(),l=e.closest("form"),r=l.find(submitBTNClass).text(),o=l.find(submitBTNClass).data("wait-text"),d=e.data("field-id");var _=e.prop("files");let c=e.attr("name");var p=e.data("limit"),f=e.data("size"),m=e.data("size-formatted"),e=e[0].hasAttribute("multiple");let u=`input:file[name=${c}]`,h=`input:text[name=${c}]`;var v=`input:hidden[name=${c}_file_token]`;let b=$("#et_pb_accepted_files_desc_"+d),g=i.find(messageClass+".et_pb_contact_message_top"),C=("none"===g.css("display")&&(g=i.find(messageClass+".et_pb_contact_message_bottom")),$("p.et_pb_contact_field.et_pb_contact_field_"+d));filesUploadArr.hasOwnProperty(d)||(filesUploadArr[d]=[]),e||1!==filesUploadArr[d].length||(a+=`<li>${i10n.x_files_allow_text.replace("{allowed_files}",1)}</li>`,n=!0),_.length+filesUploadArr[d].length>p&&(a+=`<li>${i10n.x_files_allow_text.replace("{allowed_files}",p)}</li>`,n=!0);for(let e=0;e<=_.length-1;e++)_[e].size>=f&&(a+=`<li>${i10n.allow_filesize_text.replace("{filename}",_[e].name).replace("{allowed_filesize}",m)}</li>`,n=!0);if(n&&(filesErrorsArr=a,$(u).val(""),$(h).addClass("et_contact_error"),$(h).attr("data-required_mark","required"),0<g.children().length?g.find("ul").first().append(a):g.append(`<ul>${a}</ul>`),C.addClass("et_pb_required_border"),g.addClass("et_pb_contact_error_meesage")),!1===n){for(let e=0;e<=_.length-1;e++){if(filesAttachedArr.includes(_[e].name))return a+=`<li>${i10n.already_attached_text.replace("{filename}",_[e].name)}</li>`,0<g.children().length?g.find("ul").first().append(a):g.append(`<ul>${a}</ul>`),void C.addClass("et_pb_required_border");t.append(e,_[e]),filesAttachedArr.push(_[e].name)}t.append("action","upload_file"),t.append("_wpnonce",pwh_dcfh_params.ajaxNonce),t.append("token",$(v).val()),$.ajax({type:"post",dataType:"json",contentType:!1,processData:!1,url:pwh_dcfh_params.ajaxURL,data:t,xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",function(e){e.lengthComputable&&(e=Math.round(e.loaded/e.total*100),b.html(i10n.uploading_text.replace("{percentage}",e+"%")))},!1),e},beforeSend:function(){g.find('ul li:contains("'+s.find("label.et_pb_contact_form_label").text()+'")').remove(),C.removeClass("et_pb_required_border"),0===g.find("li").length&&g.find("p").remove(),i.find(".et_pb_contact_spinner").addClass("is-active"),$(u).prop("disabled",!0),l.find(submitBTNClass).prop("disabled",!0),l.find(submitBTNClass).text(o)},success:function(e){if(!1!==e.success){if(0<e.data.success.length){let a="";$.each(e.data.success,function(e,t){a=(a=(a=(a+=`<span class="et_pb_file" data-id="${t.name}">`)+`<a href="${t.url}" class="et_pb_file_name" download>${t.tmp_name}</a>`)+`<span class="et_pb_file_size">(${t.size})</span>`)+`<span class="et-pb-icon et_pb_delete_file" aria-hidden="true" title="${i10n.delete_file_icon_hover_text}"  data-field-id="${d}" data-field-name="${c}" data-file-name="${t.name}"  data-file-tmp-name="${t.tmp_name}">&#x4d;</span>`+"</span>",filesUploadArr.hasOwnProperty(d)||(filesUploadArr[d]=[]),filesUploadArr[d].push(t.name)}),s.find(".et_pb_files_list").append(a),$(h).val(filesUploadArr[d].join())}if(0<e.data.errors.length){n=!0;let a="";$.each(e.data.errors,function(e,t){a+=`<li>${t.message}</li>`}),0<g.children().length?g.find("ul").first().append(a):g.append(`<ul>${a}</ul>`),g.addClass("et_pb_contact_error_meesage"),C.addClass("et_pb_required_border"),filesErrorsArr=a}}else g.append(e.data)},complete:function(){$(u).val(""),b.html(b.data("description")),i.find(".et_pb_contact_spinner").removeClass("is-active"),$(u).prop("disabled",!1),l.find(submitBTNClass).prop("disabled",!1),l.find(submitBTNClass).text(r);let e=$(h).val().split(",").length,t="";i10n.selected_files_text.match(/\{_.+?}/g)&&(t=(t=i10n.selected_files_text.match(/\{_.+?}/g).map(function(e){return e.slice(1,-1).replaceAll("_","")})).find(e=>!!e)),!1===n&&(e=1===e?i10n.selected_files_text.replace("{chosen_files_count}",e).replace(`{_${t}_}`,""):i10n.selected_files_text.replace("{chosen_files_count}",e).replace(`{_${t}_}`,t),s.find(".et_pb_file_chosen_desc").text(e))},error:function(e,t,a){}})}})},PWH_DCFH.handleRemoveFile=()=>{$("body").on("click",".et_pb_delete_file",function(){var e=$(this);let a=e.parents('div[class*="et_pb_contact_form_container"]'),s=e.closest("form"),l=s.find(submitBTNClass).text(),r=s.find(submitBTNClass).data("wait-text"),o=e.data("file-tmp-name"),d=e.data("file-name");if(confirm(i10n.remove_file_text.replace("{filename}",o))){let t=$(messageClass).parent().find(messageClass);var _=e.data("field-name");let i=e.data("field-id");if(""!==_&&""!==d){let n=`input:text[name="${_}"]`;$.ajax({type:"post",dataType:"json",url:pwh_dcfh_params.ajaxURL,data:{action:"remove_file",_wpnonce:pwh_dcfh_params.ajaxNonce,file_name:d},beforeSend:function(){a.find(".et_pb_contact_spinner").addClass("is-active"),s.find(submitBTNClass).prop("disabled",!0),s.find(submitBTNClass).text(r)},success:function(e){if(!0===e.success){$('span[data-id="'+d+'"]').remove();var a=$(n).val().split(",").filter(function(e){return e!==d});filesUploadArr[i]=a,$(n).val(a.join(",")),filesAttachedArr=filesAttachedArr.filter(function(e){return e.replace(/\s+/g,"-")!==o});let e=a.length,t="";i10n.selected_files_text.match(/\{_.+?}/g)&&(t=i10n.selected_files_text.match(/\{_.+?}/g).map(function(e){return e.slice(1,-1).replaceAll("_","")})),e=1===e?i10n.selected_files_text.replace("{chosen_files_count}",e).replace(`{_${t}_}`,""):1<e?i10n.selected_files_text.replace("{chosen_files_count}",e).replace(`{_${t}_}`,t):i10n.chosen_file_text,s.find(".et_pb_file_chosen_desc").text(e)}else t.html("<p>"+e.data+"</p>")},complete:function(){a.find(".et_pb_contact_spinner").removeClass("is-active"),s.find(submitBTNClass).prop("disabled",!1),s.find(submitBTNClass).text(l)},error:function(e,t,a){}})}}})},PWH_DCFH.handleRedirectForm=()=>{$(document).on("submit","form"+contactFormClass,function(e){var a=$(this),n=a.parents('div[class*="et_pb_contact_form_container"]');if(void 0!==n){let e=$(n).find("form").data("redirect-url"),t=$(n).find("form").data("redirect-delay");if(void 0!==e&&void 0!==t){const i=setInterval(function(){0===a.parents('div[class*="et_pb_contact_form_container"]').find("form").length&&(clearInterval(i),setTimeout(function(){location.href=e},t))},1e3)}}})},PWH_DCFH.handleContactMessageClass=()=>{$(document).on("submit","form"+contactFormClass,function(e){var t=$(this),a=t.parents(),a=$(a.get(1)).hasClass("et_pb_recaptcha_enabled")||!1,t=t.parents('div[class*="et_pb_contact_form_container"]');let n=t.find(messageClass+".et_pb_contact_message_top");if("none"===n.css("display")&&(n=t.find(messageClass+".et_pb_contact_message_bottom")),!a&&0<n.children().length)n.addClass("et_pb_contact_error_meesage");else if(a){const i=setInterval(function(){0<n.children().length&&(clearInterval(i),n.addClass("et_pb_contact_error_meesage"))},50)}})},PWH_DCFH.handleTextareaValidation=()=>{$(document).on("submit","form"+contactFormClass,function(e){let _=$(this),c=$(_.parents().get(1)).hasClass("et_pb_recaptcha_enabled")||!1;PWH_DCFH.formSubmitCounter=PWH_DCFH.formSubmitCounter+1,1===PWH_DCFH.formSubmitCounter&&_.find(".et_pb_textarea_validation").each(function(e,t){var a=$(this),n=a.data("field-name"),i=$("#"+n);let s=a.data("title");var l=i.data("pattern");let r=i.data("message");i=new RegExp("^"+l+"$","s");let o={};l=_.parents('div[class*="et_pb_contact_form_container"]');let d=l.find(messageClass+".et_pb_contact_message_top");(d="none"===d.css("display")?l.find(messageClass+".et_pb_contact_message_bottom"):d).has("ul").find("li").each(function(e,t){var a=$(this).text().toLowerCase();o[a]?$(this).remove():o[a]=!0}),""!==document.all[n].value&&($.trim(document.all[n].value).match(i)?(a.val(!0),a.removeClass("et_contact_error"),a.removeAttr("data-required_mark"),c||_.submit()):(PWH_DCFH.formSubmitCounter=0,a.val(""),a.addClass("et_contact_error"),a.attr("data-required_mark","required"),c?setTimeout(function(){d.find('ul li:contains("'+s+'")').html(r)},500):d.find('ul li:contains("'+s+'")').html(r)))})})},PWH_DCFH.handleETCustom=()=>{"undefined"!=typeof et_pb_custom&&(et_pb_custom.fill_message=i10n.fill_message_text,et_pb_custom.contact_error_message=i10n.fix_message_text)},PWH_DCFH.handleScriptsAfterFormSubmit=()=>{let formSubmissionHandled=!1;$(document).on("submit","form"+contactFormClass,function(e){if(e.preventDefault(),!formSubmissionHandled){formSubmissionHandled=!0;let thisForm=$(this),formUniqueNum=thisForm.closest("[data-form_unique_num]").data("form_unique_num"),contactFormContainer=thisForm.closest('div[class*="et_pb_contact_form_container"]');if(contactFormContainer.length){let serializeArray=thisForm.serializeArray();const checkInterval=setInterval(function(){if(0===contactFormContainer.find("form").length){clearInterval(checkInterval);const pattern=/\{([^|}]+)(\|INT)?}/g,matchesIterator=dynamicCustomJSCode.matchAll(pattern);for(const match of matchesIterator)try{let placeholder=match[0],inputName=match[1].trim().toLowerCase(),isInteger="|INT"===match[2],matchingData=serializeArray.find(e=>`et_pb_contact_${inputName}_`+formUniqueNum===e.name);if(matchingData){let value=isInteger?parseInt(matchingData.value,10):matchingData.value;"string"==typeof value&&(value=`"${value.replace(/"/g,'\\"')}"`),dynamicCustomJSCode=dynamicCustomJSCode.replace(placeholder,value)}}catch(error){}try{eval(dynamicCustomJSCode)}catch(e){0 instanceof SyntaxError}}},1e3)}}})},PWH_DCFH.handlesynchronizingICSURL=()=>{$(document).on("click","button.ics_url_sync_btn",function(t){t.preventDefault();let a=$(this);t=a.data("wpnonce");let n=$(this).parents('div[class*="et-fb-form__group"]').prev();if(0<n.length){let e=a.text();var i=n.find("input").val();""!==i&&""!==t?$.ajax({type:"post",dataType:"json",url:pwh_dcfh_params.ajaxURL,data:{action:"sync_ics_url",_wpnonce:t,url:decodeURIComponent(i)},beforeSend:function(){n.prev().prev().find("input").val(""),n.prev().prev().find("input").focus(),n.prev().prev().find("input").click(),a.text("Please wait synchronizing data from url...")},success:function(t){t.success?setTimeout(function(){var e=t.data.dates_str.replace(/,(?=[^,]*$)/,"");n.prev().prev().find("input").val(e),n.prev().prev().find("input").focus(),n.prev().prev().find("input").click(),$(".et-fb-button--publish").click()},500):alert(t.data)},complete:function(){a.text(e),n.find("input").val("")},error:function(e,t,a){}}):alert("Please add ICS Feed URL.")}})},PWH_DCFH.setCookie=function(t,a,n){if(null===PWH_DCFH.getCookie(t)){let e="";n&&(todayDate.setTime(todayDate.getTime()+24*n*60*60*1e3),e="; expires="+todayDate.toUTCString()),document.cookie=t+"="+(a||"")+e+"; path=/"}},PWH_DCFH.getCookie=function(e){for(var t=e+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){for(var i=a[n];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null},PWH_DCFH.messageConatiner=function(e){let t=$(e.parents().get(3)).find(messageClass+".et_pb_contact_message_top");return t="none"===t.css("display")?$(e.parents('div[class^="et_pb_contact"]').next()):t},$(PWH_DCFH.init)}(jQuery);